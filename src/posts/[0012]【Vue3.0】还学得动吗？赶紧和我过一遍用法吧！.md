## å†™åœ¨å‰é¢
**2020.4.20** æ›´æ–°ï¼šç›®å‰`Vue3.0` å·²ç»å‡ºäº `Beta` æµ‹è¯•é˜¶æ®µï¼Œå³å¯ä»¥å¯¹å¼€å‘è€…å¼€æ”¾ä½¿ç”¨äº†ï¼Œå®˜æ–¹å·¥å…·é“¾å¦‚`vue-router` ã€ `vuex` ç­‰ä»å¤„äº `Alpha` é˜¶æ®µï¼Œè·ç¦»æ­£å¼å‘å¸ƒè¿˜æœ‰ä¸€æ®µæ—¶é—´ã€‚
æœ¬ç¯‡æ–‡ç« å‘å¸ƒäº**2020.01.14**ï¼Œå¦‚æœåç»­æ›´æ–°/å‘å¸ƒçš„è¯ï¼Œä¼šè€ƒè™‘æ›´æ–°è¿™ç¯‡æ–‡ç« çš„å†…å®¹ã€‚
## é˜…è¯»ä¾èµ–
æœ¬ç¯‡æ–‡ç« é»˜è®¤è¯»è€…å·²ç»äº†è§£ä»¥ä¸‹çŸ¥è¯†ï¼Œæ²¡æœ‰æŒæ¡çš„è¯·å»è¡¥è¯¾~
- Vue2.xçš„ç”¨æ³•
- npmçš„å®‰è£…ä¸æ„å»ºï¼Œnpxå±€éƒ¨å®‰è£…æ›¿ä»£å…¨å±€å®‰è£…æ–¹æ³•ï¼ˆäº†è§£æœ€å¥½ï¼Œéå¿…é¡»ï¼‰
- gitç›¸å…³æ“ä½œ
- `react hooks`ç›¸å…³çŸ¥è¯†ï¼ˆäº†è§£æœ€å¥½ï¼Œéå¿…é¡»ï¼‰
## Vue3.0ä»‹ç»
å…¶ä»–æ–‡ç« å·²ç»è¯´å¾—å·®ä¸å¤šäº†ï¼Œå‡ ä¸ªæ ¸å¿ƒç‚¹å°±æ˜¯Proxy/å‡½æ•°å¼API/TSæ”¯æŒä»¥åŠæ¨¡æ¿ç¼–è¯‘ä¼˜åŒ–ï¼Œä¸å†èµ˜è¿°ï¼Œæƒ³çœ‹æºç çš„å»githubæ‹‰ä»£ç å³å¯ï¼š
[https://github.com/vuejs/vue-next](https://github.com/vuejs/vue-next)
## å¿«é€Ÿå¼€å§‹
### ä½¿ç”¨ @vue/cli æ„å»º
éœ€è¦ vue-cli ç‰ˆæœ¬å¤§äº 3.x ï¼Œå¦‚æœæ˜¯2.xç‰ˆæœ¬ï¼Œå¾—å…ˆå‡çº§ä¾èµ–ã€‚
çš„è¿™é‡Œåªä»‹ç»å…¨å±€å®‰è£…æ–¹æ³•ï¼š
```
npm i -g @vue/cli
```
```
vue create my-vue3-app
```
æ³¨æ„ï¼šç›®å‰**ä¸å»ºè®®é€‰æ‹© Typescript é¢„è®¾**ï¼Œå› ä¸º vuex vue-router ç­‰å·¥å…·å°šæœªå®Œå…¨æ”¯æŒï¼ˆå½“ç„¶ç²¾åŠ›æ—ºç››çš„å¯ä»¥è‡ªå·±å®ç°ï¼‰ã€‚
é¡¹ç›®åˆå§‹åŒ–å®Œæ¯•ï¼Œè¿›å…¥ `my-vue3-app` ç›®å½•ï¼Œæ‰§è¡Œ  `vue-next` å®‰è£…å‘½ä»¤ï¼š
```
vue add vue-next
```
è¿™ä¸ªå‘½ä»¤å¯ä»¥è‡ªåŠ¨è¿è¡Œå®‰è£…è„šæœ¬ï¼Œå°†ä½ å½“å‰ vue é¡¹ç›®å‡çº§ä¸º vue 3.0 é¡¹ç›®ï¼š
```powershell
ğŸ“¦  Installing vue-cli-plugin-vue-next...

yarn add v1.22.4
[1/4] Resolving packages...
[2/4] Fetching packages...

success Saved 1 new dependency.
info Direct dependencies
â””â”€ vue-cli-plugin-vue-next@0.1.2
info All dependencies
â””â”€ vue-cli-plugin-vue-next@0.1.2
Done in 24.71s.
âœ”  Successfully installed plugin: vue-cli-plugin-vue-next


ğŸš€  Invoking generator for vue-cli-plugin-vue-next...
âš“  Running completion hooks...

âœ”  Successfully invoked generator for plugin: vue-cli-plugin-vue-next
 vue-next  Installed vuex 4.0.
 vue-next  Documentation available at https://github.com/vuejs/vuex/tree/4.0
 vue-next  Installed vue-router 4.0.
 vue-next  Documentation available at https://github.com/vuejs/vue-router-next
 vue-next  Installed @vue/test-utils 2.0.
 vue-next  Documentation available at https://github.com/vuejs/vue-test-utils-next
```
happy coding.

### ä»æºç æ„å»º
é¦–å…ˆæŠŠä»£ç æ‹‰åˆ°æœ¬åœ°ï¼ˆé»˜è®¤ä½¿ç”¨masteråˆ†æ”¯å³å¯ï¼‰ï¼Œåœ¨æ ¹ç›®å½•ä¸‹æ‰§è¡Œ`npm install && npm run build`ï¼Œ å°±èƒ½åœ¨`/packages/vue/dist`ä¸‹å¾—åˆ°æ‰“åŒ…åçš„æ–‡ä»¶ï¼š
```shell
vue.cjs.js
vue.esm-bundler.j s
vue.esm.prod.js
vue.global.prod.js
vue.cjs.prod.js
vue.esm.js
vue.global.js
vue.runtime.esm-bundler.js
```
### æµè§ˆå™¨å¼•å…¥ä½¿ç”¨
å¦‚æœåœ¨çº¯æµè§ˆå™¨ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬é€‰ç”¨ä¸Šé¢çš„`vue.global.js`ä½œä¸ºä¾èµ–ï¼Œå› ä¸ºå®ƒåŒ…å«äº†å¼€å‘æç¤ºä»¥åŠtemplateç¼–è¯‘å™¨ã€‚ç›´æ¥æ¥ä¸€æ®µå°demoï¼š
```
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vue3.0 sample</title>
  <!--  åœ¨æµè§ˆå™¨ä¸‹templateå¯ä»¥è¿™ä¹ˆå†™äº†  -->
  <script type="text/x-template" id="greeting">
    <h3>{{ message }}</h3>
  </script>
  <script src="vue.global.js"></script>
</head>
<body>
  <div id="app"></div>
  <script type="text/javascript">
    const { createApp } = Vue;
    const myApp = {
      template: '#greeting',
      data() {
        return {
          message: 'Hello Vue3.0'
        }
      }
    }
    createApp(myApp).mount('#app')
  </script>
</body>
</html>
```
æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œä½ å°†çœ‹åˆ°å¦‚ä¸‹æ–‡å­—ï¼š
> ### Hello Vue3.0
å¯ä»¥çœ‹åˆ°ï¼š`new Vue`å˜æˆäº†`createApp`ï¼Œä¸å†æ¥å—`option`å‚æ•°ï¼Œè€Œæ˜¯æ¬åˆ°äº†`mount`æ–¹æ³•ä¸­ã€‚æˆ‘ä»¬çš„templateå­—ç¬¦ä¸²ï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨`text/x-template`çš„è„šæœ¬æ ¼å¼å¼•å…¥ï¼Œè‡³äºå…¶ä»–çš„ç”¨æ³•ï¼Œ**åŸºæœ¬**å’Œ2.0ä¸€æ¨¡ä¸€æ ·
å¦å¤–ï¼Œæºç ä»“åº“ä¸­ [/packages/vue/examples](https://github.com/vuejs/vue-next/tree/master/packages/vue/examples)ç›®å½•ä¸‹ï¼Œæä¾›äº†å‡ ä¸ªå®˜æ–¹ç¤ºä¾‹ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»å‚é˜…

## ä½¿ç”¨webpackæ„å»º3.0çš„sfc
ä»”ç»†è¯»è¯»ä»“åº“ä¸­çš„`readme.md`ï¼Œæˆ‘ä»¬å‘ç°å°¤å¤§å·²ç»å¾ˆè´´å¿ƒåœ°ä¸ºæˆ‘ä»¬åšäº†ä¸€ä¸ªwebpackæ„å»ºé¡¹ç›®çš„æœ€å°å®è·µ: [https://github.com/vuejs/vue-next-webpack-preview](https://github.com/vuejs/vue-next-webpack-preview)
åŒæ ·çš„æ“ä½œï¼šæ‹‰ä»£ç ->æ„å»º->è¿è¡Œåï¼Œçœ‹åˆ°çš„æ˜¯ä¸€ä¸ªç‚¹å‡»è®¡æ•°å™¨çš„åŸºæœ¬ç”¨æ³•ï¼š
```
<template>
  <img src="./logo.png">
  <h1>Hello Vue 3!</h1>
  <button @click="inc">Clicked {{ count }} times.</button>
</template>

<script type="text/javascript">
import { ref } from 'vue'
export default {
  setup() {
    const count = ref(0); // å“åº”å¼æ•°æ®
    // äº‹ä»¶å›è°ƒä¸éœ€è¦ä»»ä½•å¤„ç†ï¼Œç›´æ¥ä½œä¸ºå¯¹è±¡æ–¹æ³•è¿”å›å³å¯ï¼›
    const inc = () => {
      count.value++
    }
    return {
      count,
      inc
    }
  }
}
</script>
```
ä¸2.0ä¸åŒäº†ï¼Œè¿™ä¸ª`setup`æ–¹æ³•å°±æ˜¯3.0çš„æ–°APIï¼Œå®šä¹‰äº†ä¸€ä¸ªå“åº”å¼å±æ€§`count`å’Œæ–¹æ³•`inc`ï¼Œå°†ä»–ä»¬ä½œä¸ºå¯¹è±¡è¿”å›ï¼Œå°±èƒ½åœ¨`template`ä¸­ä½¿ç”¨ã€‚å…¶ä¸­ï¼Œ`ref`æ˜¯å¯¹ä¸€ä¸ª`åŸå§‹å€¼`æ·»åŠ å“åº”å¼ï¼ˆè£…ç®±ï¼‰ï¼Œé€šè¿‡`.value`è·å–å’Œä¿®æ”¹ï¼ˆæ‹†ç®±ï¼‰ï¼Œå¯¹åº”2.0ä¸­çš„`data`ï¼Œå¦‚æœéœ€è¦å¯¹ä¸€ä¸ªå¯¹è±¡/æ•°ç»„æ·»åŠ å“åº”å¼ï¼Œåˆ™éœ€è¦è°ƒç”¨`reactive()`æ–¹æ³•
```
import { reactive } from 'vue'
export default {
  setup() {
    return {
      foo: reactive({ a: 1, b: 2 })
    }
  }
}
```
## æ‹“å±•å®è·µ
ä¸ºäº†æ›´è¿›ä¸€æ­¥ç†è§£setupï¼Œæˆ‘ä»¬æ”¹é€ ä¸€ä¸‹ç‚¹å‡»è®¡æ•°å™¨â€”â€”é”®ç›˜è®¡æ•°å™¨ã€‚
è¦å®ç°çš„ç›®æ ‡å’Œæ€è·¯ä¸ºï¼š
- å°†è®¡æ•°å™¨å˜æˆä¸€ä¸ªç»„ä»¶ï¼Œç”±å¤–éƒ¨æ§åˆ¶å¼€å¯/å…³é—­ï¼š `component`ã€`ref`å’Œ`v-if`çš„ä½¿ç”¨
- è®¡æ•°å™¨ç›‘å¬æŸä¸ªé”®ç›˜æŒ‰é”®ï¼ŒæŒ‰é”®åç§°ç”±çˆ¶ç»„ä»¶ä½œä¸ºpropsä¼ å…¥(å¦‚Enterï¼ŒSpaceç­‰)ï¼š `setup(props)`è·å–
- ç»„ä»¶æ¸²æŸ“(`onMounted`)åå¼€å§‹ç›‘å¬ï¼Œç»„ä»¶æ‹†å¸ï¼ˆ`onUnmounted`ï¼‰åå–æ¶ˆç›‘å¬ï¼š`ç”Ÿå‘½å‘¨æœŸé’©å­`åœ¨3.0ä¸­çš„ç”¨æ³•
- æ·»åŠ `is-odd`æ–‡æœ¬ï¼Œè¡¨ç¤ºæŒ‰é”®æ¬¡æ•°æ˜¯å¦ä¸ºå¥‡æ•°ï¼š`computed`vue3.0ä¸­çš„ç”¨æ³•
- æŒ‰é”®æ¬¡æ•°ä¸º5çš„å€æ•°ï¼ˆ0é™¤å¤–ï¼‰æ—¶ï¼Œå¼¹å‡ºalertçª—å£ï¼š`watch`åœ¨vue3.0ä¸­çš„ç”¨æ³•

#### Talk is cheap, show me the code
é¦–å…ˆæ˜¯æ”¹é€ `App.vue`çˆ¶ç»„ä»¶å¯¼å…¥`key-press-enter`å­ç»„ä»¶ï¼Œæ³¨æ„çœ‹`template`æœ‰ä½•å˜åŒ–
```
<template>
    <!--  è®¾ç½®checkboxæ§åˆ¶ç»„ä»¶å¼€å…³  -->
    <input id="key-counter" type="checkbox" v-model="enableKeyPressCounter">
    <label for="key-counter">check to enable keypress counter</label>
    <key-press-counter v-if="enableKeyPressCounter" key-name="Enter" />
</template>

<script type="text/javascript">
  import { ref } from 'vue'
  import KeyPressCounter from './KeyPressCounter.vue';

  export default {
    components: {
      KeyPressCounter // ç»„ä»¶ç”¨æ³•å’ŒåŸæ¥ä¸€è‡´
    },
    setup() {
      return {
        enableKeyPressCounter: ref(false), // æ˜¯å¦å¼€å¯ç»„ä»¶
      }
    }
  }
</script>

```
å¯ä»¥å‘ç°ï¼š`template`ç°åœ¨å¯ä»¥åƒjsxä¸€æ ·ä½œä¸ºç¢ç‰‡å¼•å…¥ï¼Œä¸éœ€è¦æ·»åŠ æ ¹å…ƒç´ äº†ï¼ˆå½“ç„¶#appæ ¹å®¹å™¨è¿˜æ˜¯éœ€è¦çš„ï¼‰
æ¥ç€æ˜¯å­ç»„ä»¶`KeyPressCounter.vue`ï¼š 
```
<script>
 <template>
  <h3>Listening keypress: {{ keyName }}</h3>
  <p>Press {{ pressCount }} times!</p>
  <p>Is odd times: {{ isOdd }}</p>
</template>

<script type="text/javascript">
  import { onMounted, onUnmounted, ref, effect, computed } from 'vue';

  /**
   * åˆ›å»ºä¸€ä¸ªé”®ç›˜æŒ‰é”®ç›‘å¬é’©å­
   * @param keyName æŒ‰é”®åç§°
   * @param callback ç›‘å¬å›è°ƒ
   */
  const useKeyboardListener = (keyName, callback) => {
    const listener = (e) =>{
      console.log(`ä½ æŒ‰ä¸‹äº†${e.key}é”®`) // ç”¨æ¥éªŒè¯ç›‘å¬æ—¶é—´æ˜¯å¦å¼€å¯/å…³é—­
      if (e.key !== keyName) {
        return;
      }
      callback()
    }
    // å½“ç»„ä»¶æ¸²æŸ“æ—¶ç›‘å¬
    onMounted(()=>{
      document.addEventListener('keydown', listener)
    })
    // å½“ç»„ä»¶æ‹†è§£æ—¶ç›‘å¬
    onUnmounted(()=>{
      document.removeEventListener('keydown', listener)
    })
  }

  export default {
    name: "EnterCounter",
    /**
     * @param props çˆ¶ç»„ä»¶ä¼ å…¥çš„props
     * @return { Object } è¿”å›çš„å¯¹è±¡å¯ä»¥åœ¨templateä¸­å¼•ç”¨
     */
    setup(props) {
      const { keyName } = props
      const pressCount = ref(0)
      // hooksè°ƒç”¨
      useKeyboardListener(keyName, ()=>{
        pressCount.value += 1;
      })
      // watchçš„ç”¨æ³•ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œç°åœ¨æ— éœ€å£°æ˜å­—æ®µæˆ–è€…sourceï¼Œvueè‡ªåŠ¨è¿½è¸ªä¾èµ–
      effect(()=>{
        if (pressCount.value && pressCount.value % 5 === 0) {
          alert(`you have press ${pressCount.value} times!`)
        }
      })
      // computedçš„ç”¨æ³•ï¼ŒåŸºæœ¬æ˜¯åŸæ¥çš„é…æ–¹
      const isOdd = computed(()=> pressCount.value % 2 === 1)

      return {
        keyName,
        pressCount,
        isOdd
      }
    }
  }
</script>
```
ä»¥åç¼–å†™ç»„ä»¶å°±æ˜¯setupä¸€æŠŠæ¢­äº†ï¼æ˜¯ä¸æ˜¯è¶Šæ¥è¶Šåƒ`react hooks`äº†?
å¯¹æ¯”ä¸€ä¸‹ä¼ ç»Ÿå†™æ³•ï¼š
```
<template>
  <div>
    <h3>Listening keypress: {{ keyName }}</h3>
    <p>Press {{ pressCount }} times!</p>
    <p>Is odd times: {{ isOdd }}</p>
  </div>
</template>

<script type="text/javascript">
  let listener

  export default {
    name: "EnterCounter",
    props: {
      keyName: String
    },
    computed: {
      isOdd() {
        return this.pressCount % 2 === 1;
      }
    },
    data() {
      return {
        pressCount: 0
      }
    },
    mounted() {
      listener = (e) =>{
        if (e.key !== this.keyName) {
          return;
        }
        this.callback()
      }
      document.addEventListener('keydown', listener)
    },
    beforeUnmount() {
      document.removeEventListener('keydown', listener)
    },
    watch: {
      pressCount(newVal) {
        if (newVal && newVal % 5 === 0) {
          alert(`you have press ${newVal} times!`)
        }
      }
    },
    methods: {
      callback() {
        this.pressCount += 1;
      }
    }
  }
</script>

```
å½“ç„¶ï¼Œå£°æ˜å¼vså‡½æ•°å¼ï¼Œä¸èƒ½è¯´å“ªä¸ªä¸€å®šæ¯”å¦å¤–ä¸€ä¸ªå¥½ã€‚å°¤å¤§ä¾ç„¶ä¸ºæˆ‘ä»¬ä¿æŒäº†ä¼ ç»Ÿapiï¼Œè¿™ä¹Ÿæ„å‘³ç€ä»2.0è¿ç§»åˆ°3.0ï¼Œä»˜å‡ºçš„æˆæœ¬æ˜¯éå¸¸å¹³æ»‘çš„ã€‚

## ä½¿ç”¨ Vuex hooks

#### åˆå§‹åŒ–
é¦–å…ˆå®šä¹‰å…¨å±€çš„ Store :
```
import { createStore } from 'vuex';

export default createStore({
  state: {
    username: 'Xiaoming',
  },
  modules: {
    foo: {
      namespaced: true,
      state: {
        bar: 'baz',
      },
      modules: {
        nested: {
          namespaced: true,
          state: {
            final: 'you\'ve done',
          },
        },
      },
    },
  },
});
```

æ¥ç€åœ¨ç»„ä»¶æ ¹å®ä¾‹ä¸­æ³¨å…¥
```
import { createAPP } from 'vue'
import Store from './store'
import APP from './views/App.vue'

createApp(APP)
  .use(Store) // ä»¥æ’ä»¶å®‰è£…å½¢å¼æ³¨å…¥
  .mount('#app')
```
#### å¦‚ä½•åœ¨setupä¸­å¼•ç”¨
ç›®å‰ vuex çš„è¾…åŠ©å‡½æ•° `mapState` ã€`mapGetter` ã€ `mapMutation` ã€ `mapAction`ï¼Œéœ€è¦ç»‘å®šç»„ä»¶å®ä¾‹ä¸Šä¸‹æ–‡ï¼Œè€Œ setup å‡½æ•°ä¸­æ— æ³•è®¿é—®ç»„ä»¶å®ä¾‹ï¼Œæ‰€ä»¥è¿™äº›è¾…åŠ©å‡½æ•°åœ¨ setup ä¸­åº”è¯¥ç”¨ä¸ä¸Šäº†ï¼Œå–è€Œä»£ä¹‹çš„åº”è¯¥æ˜¯ `useState` ã€`useGetter` ã€ `useMutation` ã€ `useAction` ï¼Œç›®å‰å®˜æ–¹å°šæœªå®ç°ã€‚è¿™é‡Œ**æ ¹æ® vuex æºç **å†™ä¸€ä¸ªå…¼å®¹3.0çš„ `useState` ï¼ŒæŠ›ç –å¼•ç‰ï¼ˆä»£ç æœ‰ç‚¹é•¿ï¼Œå¯ä»¥è·³ç€çœ‹ï¼‰ï¼š
```
import { computed } from 'vue';
import { useStore } from 'vuex';

const normalizeNamespace = (fn) => (namespace, map) => {
  let appliedMap = map;
  let appliedNamespace = namespace;
  if (typeof appliedNamespace !== 'string') {
    appliedMap = namespace;
    appliedNamespace = '';
  } else if (namespace.charAt(appliedNamespace.length - 1) !== '/') {
    appliedNamespace += '/';
  }
  return fn(appliedNamespace, appliedMap);
};

const normalizeMap = (map) => (Array.isArray(map)
  ? map.map((item) => ({ key: item, val: item }))
  : Object.entries(map).map(([key, val]) => ({ key, val })));

export const useState = normalizeNamespace((namespace, states) => {
  const res = {};
  // å°†æºç ä¸­å¼•ç”¨çš„ this.$store æ›¿æ¢æˆå…¨å±€store
  const store = useStore();
  normalizeMap(states).forEach(({ key, val }) => {
    res[key] = (computed(() => {
      let { state, getters } = store;
      if (namespace) {
        // eslint-disable-next-line no-underscore-dangle
        const module = store._modulesNamespaceMap[namespace];
        if (!module) {
          return;
        }
        state = module.context.state;
        getters = module.context.getters;
      }
      // eslint-disable-next-line consistent-return
      return typeof val === 'function'
        ? val.call(store, state, getters)
        : state[val];
    }));
    // mark vuex getter for devtools
    res[key].vuex = true;
  });
  return res;
}, true);
```
ç¼–å†™å®Œæ¯•ï¼Œåœ¨å®é™…ç»„ä»¶ä¸­ä½¿ç”¨ï¼š
```
<template>
  <header>
    <h5>
      Hello {{ username }} | {{ bar }} | {{ final }}
    </h5>
  </header>
</template>

<script>
import { useState } from '../store/hooks';

export default {
  name: 'Header',
  setup() {
    const { username } = useState(['username']);
    const { bar } = useState('foo', ['bar']);
    const { final } = useState('foo/nested', ['final']);
    return {
      username,
      bar,
      final,
    };
  },
};
</script>
```
è¾“å‡ºç»“æœï¼š
> ##### Hello Xiaoming | baz | you've done

## æ€»ç»“
- templateæ”¯æŒç¢ç‰‡ï¼Œå³é™¤æ ¹ç»„ä»¶å¤–ï¼Œå­ç»„ä»¶æ— éœ€å£°æ˜æ ¹å…ƒç´ ã€‚
- ä¼ ç»Ÿçš„ç»„ä»¶option apiï¼Œç°åœ¨å¯ä»¥ç”¨setupæ¥å®ç°ï¼Œä¸ä»…æ¯”ä»¥å‰å˜å¾—æ›´åŠ çµæ´»ï¼Œåœ¨ç±»å‹åˆ†æä¸Šï¼ˆtypescriptï¼‰å°†ä¼šæ”¯æŒå¾—æ›´å¥½
- å¤§éƒ¨åˆ†apiå¦‚ref/reactive/onMountedç­‰æ–¹æ³•ï¼Œç°åœ¨æ”¯æŒæŒ‰éœ€å¯¼å…¥ï¼Œå¯¹äºtree-shakingä¼˜åŒ–æœ‰åˆ©
- setupä½¿å¼€å‘è€…ä¸å¿…å†å…³å¿ƒä»¤äººå¤´ç–¼çš„`this`é—®é¢˜
- setupæ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œå¦‚æœä½ çš„æ€è·¯è¶³å¤Ÿæ¸…æ™°ï¼Œé‚£ä¹ˆå®ƒå°†ä¼šæ˜¯ä½ æŠ½è±¡é€»è¾‘çš„åˆ©å™¨ã€‚åä¹‹ä½¿ç”¨ä¸å½“åŒæ ·ä¹Ÿä¼šè®©ä½ çš„ä»£ç å˜æˆæ„å¤§åˆ©é¢æ¡ğŸ
- vuex çš„è¾…åŠ©å‡½æ•°å°†åœ¨æœªæ¥ä»¥ `useXXXX` çš„å½¢å¼ å…¼å®¹ setup å‡½æ•°ã€‚
